(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[640],{1607:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(7876),a=s(4232);function l(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(""),[n,i]=(0,a.useState)(!1),o=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;null==(e=o.current)||e.scrollIntoView({behavior:"smooth"})},[e]);let c=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;if(!e.trim())return;let r={role:"user",text:e,timestamp:new Date().toISOString()};t(e=>[...e,r]),l(""),i(!0);try{let s=await fetch("/api/proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputs:e})});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));let r=await s.json(),a={role:"assistant",text:r.reply||r.error||"Нет ответа",timestamp:new Date().toISOString()};t(e=>[...e,a])}catch(s){let e={role:"assistant",text:"Ошибка при запросе к AI. Проверьте подключение или попробуйте позже.",timestamp:new Date().toISOString()};t(t=>[...t,e])}finally{i(!1)}};return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Чат с ИИ"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Свободное общение с Qwen2.5-72B без ограничений"})]}),(0,r.jsx)("button",{onClick:()=>{confirm("Очистить историю чата?")&&t([])},className:"text-sm text-red-600 hover:text-red-800 px-3 py-1 border border-red-300 rounded-md",children:"Очистить историю"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[(0,r.jsxs)("div",{className:"h-[500px] overflow-auto p-4 space-y-4",children:[0===e.length?(0,r.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83E\uDD16"}),(0,r.jsx)("p",{className:"text-lg",children:"Начните свободное общение с AI"}),(0,r.jsx)("p",{className:"text-sm mt-2",children:"Задавайте любые вопросы без ограничений"})]}):e.map((e,t)=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"flex items-start gap-3 max-w-[75%] ".concat("user"===e.role?"flex-row-reverse":""),children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-2xl flex-shrink-0 ".concat("user"===e.role?"bg-blue-500 text-white":"bg-gradient-to-br from-purple-500 to-pink-500 text-white"),children:"user"===e.role?"\uD83D\uDC64":"\uD83E\uDD16"}),(0,r.jsxs)("div",{className:"rounded-2xl px-4 py-3 ".concat("user"===e.role?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"),children:[(0,r.jsx)("p",{className:"whitespace-pre-wrap leading-relaxed",children:e.text}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat("user"===e.role?"text-blue-100":"text-gray-500"),children:new Date(e.timestamp).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})})]})]})},t)),(0,r.jsx)("div",{ref:o})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 p-4",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("textarea",{value:s,onChange:e=>l(e.target.value),className:"flex-1 p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ваше сообщение... (Shift+Enter для новой строки)",rows:2,onKeyDown:e=>{"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),n||c())}}),(0,r.jsx)("button",{onClick:()=>c(),disabled:n||!s.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium",children:n?(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"animate-spin",children:"⏳"})," Думаю..."]}):"Отправить"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Режим: Свободный чат • Модель: Qwen/Qwen2.5-72B-Instruct"})]})]})]})}},7076:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/ChatRaw",function(){return s(1607)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=7076)),_N_E=e.O()}]);